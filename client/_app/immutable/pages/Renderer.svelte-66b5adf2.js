import{S as v1,i as s1,s as c1,l as q,m as H,p as X,h as C,q as V,b as h1,J as f1,n as W,o as l1}from"../chunks/index-03969575.js";var R={},Y={};Object.defineProperty(Y,"__esModule",{value:!0});Y.setMatrixArrayType=m1;Y.toRadian=y1;Y.equals=x1;Y.RANDOM=Y.ARRAY_TYPE=Y.EPSILON=void 0;var G=1e-6;Y.EPSILON=G;var k=typeof Float32Array<"u"?Float32Array:Array;Y.ARRAY_TYPE=k;var M1=Math.random;Y.RANDOM=M1;function m1(r){Y.ARRAY_TYPE=k=r}var p1=Math.PI/180;function y1(r){return r*p1}function x1(r,e){return Math.abs(r-e)<=G*Math.max(1,Math.abs(r),Math.abs(e))}Math.hypot||(Math.hypot=function(){for(var r=0,e=arguments.length;e--;)r+=arguments[e]*arguments[e];return Math.sqrt(r)});function U(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?U=function(a){return typeof a}:U=function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},U(r)}Object.defineProperty(R,"__esModule",{value:!0});var K=R.create=R1;R.clone=S1;R.copy=P1;R.fromValues=A1;R.set=g1;R.identity=j;R.transpose=_1;R.invert=z1;R.adjoint=E1;R.determinant=w1;R.multiply=o;var d1=R.translate=O1;R.scale=T1;var Q=R.rotate=I1;R.rotateX=L1;R.rotateY=b1;R.rotateZ=N1;R.fromTranslation=Y1;R.fromScaling=F1;R.fromRotation=D1;R.fromXRotation=B1;R.fromYRotation=U1;R.fromZRotation=C1;R.fromRotationTranslation=u;R.fromQuat2=V1;R.getTranslation=W1;R.getScaling=r1;R.getRotation=$1;R.fromRotationTranslationScale=Z1;R.fromRotationTranslationScaleOrigin=q1;R.fromQuat=H1;R.frustum=X1;R.perspectiveNO=e1;R.perspectiveZO=Q1;R.perspectiveFromFieldOfView=G1;R.orthoNO=n1;R.orthoZO=J1;R.lookAt=j1;R.targetTo=o1;R.str=u1;R.frob=rr;R.add=er;R.subtract=i1;R.multiplyScalar=ar;R.multiplyScalarAndAdd=nr;R.exactEquals=ir;R.equals=vr;R.sub=R.mul=R.ortho=a1=R.perspective=void 0;var E=t1(Y);function J(r){if(typeof WeakMap!="function")return null;var e=new WeakMap,a=new WeakMap;return(J=function(v){return v?a:e})(r)}function t1(r,e){if(!e&&r&&r.__esModule)return r;if(r===null||U(r)!=="object"&&typeof r!="function")return{default:r};var a=J(e);if(a&&a.has(r))return a.get(r);var i={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in r)if(n!=="default"&&Object.prototype.hasOwnProperty.call(r,n)){var s=v?Object.getOwnPropertyDescriptor(r,n):null;s&&(s.get||s.set)?Object.defineProperty(i,n,s):i[n]=r[n]}return i.default=r,a&&a.set(r,i),i}function R1(){var r=new E.ARRAY_TYPE(16);return E.ARRAY_TYPE!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0),r[0]=1,r[5]=1,r[10]=1,r[15]=1,r}function S1(r){var e=new E.ARRAY_TYPE(16);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15],e}function P1(r,e){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],r}function A1(r,e,a,i,v,n,s,c,f,h,M,m,y,p,d,x){var l=new E.ARRAY_TYPE(16);return l[0]=r,l[1]=e,l[2]=a,l[3]=i,l[4]=v,l[5]=n,l[6]=s,l[7]=c,l[8]=f,l[9]=h,l[10]=M,l[11]=m,l[12]=y,l[13]=p,l[14]=d,l[15]=x,l}function g1(r,e,a,i,v,n,s,c,f,h,M,m,y,p,d,x,l){return r[0]=e,r[1]=a,r[2]=i,r[3]=v,r[4]=n,r[5]=s,r[6]=c,r[7]=f,r[8]=h,r[9]=M,r[10]=m,r[11]=y,r[12]=p,r[13]=d,r[14]=x,r[15]=l,r}function j(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function _1(r,e){if(r===e){var a=e[1],i=e[2],v=e[3],n=e[6],s=e[7],c=e[11];r[1]=e[4],r[2]=e[8],r[3]=e[12],r[4]=a,r[6]=e[9],r[7]=e[13],r[8]=i,r[9]=n,r[11]=e[14],r[12]=v,r[13]=s,r[14]=c}else r[0]=e[0],r[1]=e[4],r[2]=e[8],r[3]=e[12],r[4]=e[1],r[5]=e[5],r[6]=e[9],r[7]=e[13],r[8]=e[2],r[9]=e[6],r[10]=e[10],r[11]=e[14],r[12]=e[3],r[13]=e[7],r[14]=e[11],r[15]=e[15];return r}function z1(r,e){var a=e[0],i=e[1],v=e[2],n=e[3],s=e[4],c=e[5],f=e[6],h=e[7],M=e[8],m=e[9],y=e[10],p=e[11],d=e[12],x=e[13],l=e[14],t=e[15],_=a*c-i*s,S=a*f-v*s,P=a*h-n*s,A=i*f-v*c,g=i*h-n*c,I=v*h-n*f,w=M*x-m*d,O=M*l-y*d,T=M*t-p*d,L=m*l-y*x,b=m*t-p*x,N=y*t-p*l,z=_*N-S*b+P*L+A*T-g*O+I*w;return z?(z=1/z,r[0]=(c*N-f*b+h*L)*z,r[1]=(v*b-i*N-n*L)*z,r[2]=(x*I-l*g+t*A)*z,r[3]=(y*g-m*I-p*A)*z,r[4]=(f*T-s*N-h*O)*z,r[5]=(a*N-v*T+n*O)*z,r[6]=(l*P-d*I-t*S)*z,r[7]=(M*I-y*P+p*S)*z,r[8]=(s*b-c*T+h*w)*z,r[9]=(i*T-a*b-n*w)*z,r[10]=(d*g-x*P+t*_)*z,r[11]=(m*P-M*g-p*_)*z,r[12]=(c*O-s*L-f*w)*z,r[13]=(a*L-i*O+v*w)*z,r[14]=(x*S-d*A-l*_)*z,r[15]=(M*A-m*S+y*_)*z,r):null}function E1(r,e){var a=e[0],i=e[1],v=e[2],n=e[3],s=e[4],c=e[5],f=e[6],h=e[7],M=e[8],m=e[9],y=e[10],p=e[11],d=e[12],x=e[13],l=e[14],t=e[15];return r[0]=c*(y*t-p*l)-m*(f*t-h*l)+x*(f*p-h*y),r[1]=-(i*(y*t-p*l)-m*(v*t-n*l)+x*(v*p-n*y)),r[2]=i*(f*t-h*l)-c*(v*t-n*l)+x*(v*h-n*f),r[3]=-(i*(f*p-h*y)-c*(v*p-n*y)+m*(v*h-n*f)),r[4]=-(s*(y*t-p*l)-M*(f*t-h*l)+d*(f*p-h*y)),r[5]=a*(y*t-p*l)-M*(v*t-n*l)+d*(v*p-n*y),r[6]=-(a*(f*t-h*l)-s*(v*t-n*l)+d*(v*h-n*f)),r[7]=a*(f*p-h*y)-s*(v*p-n*y)+M*(v*h-n*f),r[8]=s*(m*t-p*x)-M*(c*t-h*x)+d*(c*p-h*m),r[9]=-(a*(m*t-p*x)-M*(i*t-n*x)+d*(i*p-n*m)),r[10]=a*(c*t-h*x)-s*(i*t-n*x)+d*(i*h-n*c),r[11]=-(a*(c*p-h*m)-s*(i*p-n*m)+M*(i*h-n*c)),r[12]=-(s*(m*l-y*x)-M*(c*l-f*x)+d*(c*y-f*m)),r[13]=a*(m*l-y*x)-M*(i*l-v*x)+d*(i*y-v*m),r[14]=-(a*(c*l-f*x)-s*(i*l-v*x)+d*(i*f-v*c)),r[15]=a*(c*y-f*m)-s*(i*y-v*m)+M*(i*f-v*c),r}function w1(r){var e=r[0],a=r[1],i=r[2],v=r[3],n=r[4],s=r[5],c=r[6],f=r[7],h=r[8],M=r[9],m=r[10],y=r[11],p=r[12],d=r[13],x=r[14],l=r[15],t=e*s-a*n,_=e*c-i*n,S=e*f-v*n,P=a*c-i*s,A=a*f-v*s,g=i*f-v*c,I=h*d-M*p,w=h*x-m*p,O=h*l-y*p,T=M*x-m*d,L=M*l-y*d,b=m*l-y*x;return t*b-_*L+S*T+P*O-A*w+g*I}function o(r,e,a){var i=e[0],v=e[1],n=e[2],s=e[3],c=e[4],f=e[5],h=e[6],M=e[7],m=e[8],y=e[9],p=e[10],d=e[11],x=e[12],l=e[13],t=e[14],_=e[15],S=a[0],P=a[1],A=a[2],g=a[3];return r[0]=S*i+P*c+A*m+g*x,r[1]=S*v+P*f+A*y+g*l,r[2]=S*n+P*h+A*p+g*t,r[3]=S*s+P*M+A*d+g*_,S=a[4],P=a[5],A=a[6],g=a[7],r[4]=S*i+P*c+A*m+g*x,r[5]=S*v+P*f+A*y+g*l,r[6]=S*n+P*h+A*p+g*t,r[7]=S*s+P*M+A*d+g*_,S=a[8],P=a[9],A=a[10],g=a[11],r[8]=S*i+P*c+A*m+g*x,r[9]=S*v+P*f+A*y+g*l,r[10]=S*n+P*h+A*p+g*t,r[11]=S*s+P*M+A*d+g*_,S=a[12],P=a[13],A=a[14],g=a[15],r[12]=S*i+P*c+A*m+g*x,r[13]=S*v+P*f+A*y+g*l,r[14]=S*n+P*h+A*p+g*t,r[15]=S*s+P*M+A*d+g*_,r}function O1(r,e,a){var i=a[0],v=a[1],n=a[2],s,c,f,h,M,m,y,p,d,x,l,t;return e===r?(r[12]=e[0]*i+e[4]*v+e[8]*n+e[12],r[13]=e[1]*i+e[5]*v+e[9]*n+e[13],r[14]=e[2]*i+e[6]*v+e[10]*n+e[14],r[15]=e[3]*i+e[7]*v+e[11]*n+e[15]):(s=e[0],c=e[1],f=e[2],h=e[3],M=e[4],m=e[5],y=e[6],p=e[7],d=e[8],x=e[9],l=e[10],t=e[11],r[0]=s,r[1]=c,r[2]=f,r[3]=h,r[4]=M,r[5]=m,r[6]=y,r[7]=p,r[8]=d,r[9]=x,r[10]=l,r[11]=t,r[12]=s*i+M*v+d*n+e[12],r[13]=c*i+m*v+x*n+e[13],r[14]=f*i+y*v+l*n+e[14],r[15]=h*i+p*v+t*n+e[15]),r}function T1(r,e,a){var i=a[0],v=a[1],n=a[2];return r[0]=e[0]*i,r[1]=e[1]*i,r[2]=e[2]*i,r[3]=e[3]*i,r[4]=e[4]*v,r[5]=e[5]*v,r[6]=e[6]*v,r[7]=e[7]*v,r[8]=e[8]*n,r[9]=e[9]*n,r[10]=e[10]*n,r[11]=e[11]*n,r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],r}function I1(r,e,a,i){var v=i[0],n=i[1],s=i[2],c=Math.hypot(v,n,s),f,h,M,m,y,p,d,x,l,t,_,S,P,A,g,I,w,O,T,L,b,N,z,F;return c<E.EPSILON?null:(c=1/c,v*=c,n*=c,s*=c,f=Math.sin(a),h=Math.cos(a),M=1-h,m=e[0],y=e[1],p=e[2],d=e[3],x=e[4],l=e[5],t=e[6],_=e[7],S=e[8],P=e[9],A=e[10],g=e[11],I=v*v*M+h,w=n*v*M+s*f,O=s*v*M-n*f,T=v*n*M-s*f,L=n*n*M+h,b=s*n*M+v*f,N=v*s*M+n*f,z=n*s*M-v*f,F=s*s*M+h,r[0]=m*I+x*w+S*O,r[1]=y*I+l*w+P*O,r[2]=p*I+t*w+A*O,r[3]=d*I+_*w+g*O,r[4]=m*T+x*L+S*b,r[5]=y*T+l*L+P*b,r[6]=p*T+t*L+A*b,r[7]=d*T+_*L+g*b,r[8]=m*N+x*z+S*F,r[9]=y*N+l*z+P*F,r[10]=p*N+t*z+A*F,r[11]=d*N+_*z+g*F,e!==r&&(r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r)}function L1(r,e,a){var i=Math.sin(a),v=Math.cos(a),n=e[4],s=e[5],c=e[6],f=e[7],h=e[8],M=e[9],m=e[10],y=e[11];return e!==r&&(r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r[4]=n*v+h*i,r[5]=s*v+M*i,r[6]=c*v+m*i,r[7]=f*v+y*i,r[8]=h*v-n*i,r[9]=M*v-s*i,r[10]=m*v-c*i,r[11]=y*v-f*i,r}function b1(r,e,a){var i=Math.sin(a),v=Math.cos(a),n=e[0],s=e[1],c=e[2],f=e[3],h=e[8],M=e[9],m=e[10],y=e[11];return e!==r&&(r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r[0]=n*v-h*i,r[1]=s*v-M*i,r[2]=c*v-m*i,r[3]=f*v-y*i,r[8]=n*i+h*v,r[9]=s*i+M*v,r[10]=c*i+m*v,r[11]=f*i+y*v,r}function N1(r,e,a){var i=Math.sin(a),v=Math.cos(a),n=e[0],s=e[1],c=e[2],f=e[3],h=e[4],M=e[5],m=e[6],y=e[7];return e!==r&&(r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r[0]=n*v+h*i,r[1]=s*v+M*i,r[2]=c*v+m*i,r[3]=f*v+y*i,r[4]=h*v-n*i,r[5]=M*v-s*i,r[6]=m*v-c*i,r[7]=y*v-f*i,r}function Y1(r,e){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=e[0],r[13]=e[1],r[14]=e[2],r[15]=1,r}function F1(r,e){return r[0]=e[0],r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=e[1],r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=e[2],r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function D1(r,e,a){var i=a[0],v=a[1],n=a[2],s=Math.hypot(i,v,n),c,f,h;return s<E.EPSILON?null:(s=1/s,i*=s,v*=s,n*=s,c=Math.sin(e),f=Math.cos(e),h=1-f,r[0]=i*i*h+f,r[1]=v*i*h+n*c,r[2]=n*i*h-v*c,r[3]=0,r[4]=i*v*h-n*c,r[5]=v*v*h+f,r[6]=n*v*h+i*c,r[7]=0,r[8]=i*n*h+v*c,r[9]=v*n*h-i*c,r[10]=n*n*h+f,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r)}function B1(r,e){var a=Math.sin(e),i=Math.cos(e);return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=i,r[6]=a,r[7]=0,r[8]=0,r[9]=-a,r[10]=i,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function U1(r,e){var a=Math.sin(e),i=Math.cos(e);return r[0]=i,r[1]=0,r[2]=-a,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=a,r[9]=0,r[10]=i,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function C1(r,e){var a=Math.sin(e),i=Math.cos(e);return r[0]=i,r[1]=a,r[2]=0,r[3]=0,r[4]=-a,r[5]=i,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function u(r,e,a){var i=e[0],v=e[1],n=e[2],s=e[3],c=i+i,f=v+v,h=n+n,M=i*c,m=i*f,y=i*h,p=v*f,d=v*h,x=n*h,l=s*c,t=s*f,_=s*h;return r[0]=1-(p+x),r[1]=m+_,r[2]=y-t,r[3]=0,r[4]=m-_,r[5]=1-(M+x),r[6]=d+l,r[7]=0,r[8]=y+t,r[9]=d-l,r[10]=1-(M+p),r[11]=0,r[12]=a[0],r[13]=a[1],r[14]=a[2],r[15]=1,r}function V1(r,e){var a=new E.ARRAY_TYPE(3),i=-e[0],v=-e[1],n=-e[2],s=e[3],c=e[4],f=e[5],h=e[6],M=e[7],m=i*i+v*v+n*n+s*s;return m>0?(a[0]=(c*s+M*i+f*n-h*v)*2/m,a[1]=(f*s+M*v+h*i-c*n)*2/m,a[2]=(h*s+M*n+c*v-f*i)*2/m):(a[0]=(c*s+M*i+f*n-h*v)*2,a[1]=(f*s+M*v+h*i-c*n)*2,a[2]=(h*s+M*n+c*v-f*i)*2),u(r,e,a),r}function W1(r,e){return r[0]=e[12],r[1]=e[13],r[2]=e[14],r}function r1(r,e){var a=e[0],i=e[1],v=e[2],n=e[4],s=e[5],c=e[6],f=e[8],h=e[9],M=e[10];return r[0]=Math.hypot(a,i,v),r[1]=Math.hypot(n,s,c),r[2]=Math.hypot(f,h,M),r}function $1(r,e){var a=new E.ARRAY_TYPE(3);r1(a,e);var i=1/a[0],v=1/a[1],n=1/a[2],s=e[0]*i,c=e[1]*v,f=e[2]*n,h=e[4]*i,M=e[5]*v,m=e[6]*n,y=e[8]*i,p=e[9]*v,d=e[10]*n,x=s+M+d,l=0;return x>0?(l=Math.sqrt(x+1)*2,r[3]=.25*l,r[0]=(m-p)/l,r[1]=(y-f)/l,r[2]=(c-h)/l):s>M&&s>d?(l=Math.sqrt(1+s-M-d)*2,r[3]=(m-p)/l,r[0]=.25*l,r[1]=(c+h)/l,r[2]=(y+f)/l):M>d?(l=Math.sqrt(1+M-s-d)*2,r[3]=(y-f)/l,r[0]=(c+h)/l,r[1]=.25*l,r[2]=(m+p)/l):(l=Math.sqrt(1+d-s-M)*2,r[3]=(c-h)/l,r[0]=(y+f)/l,r[1]=(m+p)/l,r[2]=.25*l),r}function Z1(r,e,a,i){var v=e[0],n=e[1],s=e[2],c=e[3],f=v+v,h=n+n,M=s+s,m=v*f,y=v*h,p=v*M,d=n*h,x=n*M,l=s*M,t=c*f,_=c*h,S=c*M,P=i[0],A=i[1],g=i[2];return r[0]=(1-(d+l))*P,r[1]=(y+S)*P,r[2]=(p-_)*P,r[3]=0,r[4]=(y-S)*A,r[5]=(1-(m+l))*A,r[6]=(x+t)*A,r[7]=0,r[8]=(p+_)*g,r[9]=(x-t)*g,r[10]=(1-(m+d))*g,r[11]=0,r[12]=a[0],r[13]=a[1],r[14]=a[2],r[15]=1,r}function q1(r,e,a,i,v){var n=e[0],s=e[1],c=e[2],f=e[3],h=n+n,M=s+s,m=c+c,y=n*h,p=n*M,d=n*m,x=s*M,l=s*m,t=c*m,_=f*h,S=f*M,P=f*m,A=i[0],g=i[1],I=i[2],w=v[0],O=v[1],T=v[2],L=(1-(x+t))*A,b=(p+P)*A,N=(d-S)*A,z=(p-P)*g,F=(1-(y+t))*g,D=(l+_)*g,B=(d+S)*I,$=(l-_)*I,Z=(1-(y+x))*I;return r[0]=L,r[1]=b,r[2]=N,r[3]=0,r[4]=z,r[5]=F,r[6]=D,r[7]=0,r[8]=B,r[9]=$,r[10]=Z,r[11]=0,r[12]=a[0]+w-(L*w+z*O+B*T),r[13]=a[1]+O-(b*w+F*O+$*T),r[14]=a[2]+T-(N*w+D*O+Z*T),r[15]=1,r}function H1(r,e){var a=e[0],i=e[1],v=e[2],n=e[3],s=a+a,c=i+i,f=v+v,h=a*s,M=i*s,m=i*c,y=v*s,p=v*c,d=v*f,x=n*s,l=n*c,t=n*f;return r[0]=1-m-d,r[1]=M+t,r[2]=y-l,r[3]=0,r[4]=M-t,r[5]=1-h-d,r[6]=p+x,r[7]=0,r[8]=y+l,r[9]=p-x,r[10]=1-h-m,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function X1(r,e,a,i,v,n,s){var c=1/(a-e),f=1/(v-i),h=1/(n-s);return r[0]=n*2*c,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=n*2*f,r[6]=0,r[7]=0,r[8]=(a+e)*c,r[9]=(v+i)*f,r[10]=(s+n)*h,r[11]=-1,r[12]=0,r[13]=0,r[14]=s*n*2*h,r[15]=0,r}function e1(r,e,a,i,v){var n=1/Math.tan(e/2),s;return r[0]=n/a,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=n,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=-1,r[12]=0,r[13]=0,r[15]=0,v!=null&&v!==1/0?(s=1/(i-v),r[10]=(v+i)*s,r[14]=2*v*i*s):(r[10]=-1,r[14]=-2*i),r}var K1=e1,a1=R.perspective=K1;function Q1(r,e,a,i,v){var n=1/Math.tan(e/2),s;return r[0]=n/a,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=n,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=-1,r[12]=0,r[13]=0,r[15]=0,v!=null&&v!==1/0?(s=1/(i-v),r[10]=v*s,r[14]=v*i*s):(r[10]=-1,r[14]=-i),r}function G1(r,e,a,i){var v=Math.tan(e.upDegrees*Math.PI/180),n=Math.tan(e.downDegrees*Math.PI/180),s=Math.tan(e.leftDegrees*Math.PI/180),c=Math.tan(e.rightDegrees*Math.PI/180),f=2/(s+c),h=2/(v+n);return r[0]=f,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=h,r[6]=0,r[7]=0,r[8]=-((s-c)*f*.5),r[9]=(v-n)*h*.5,r[10]=i/(a-i),r[11]=-1,r[12]=0,r[13]=0,r[14]=i*a/(a-i),r[15]=0,r}function n1(r,e,a,i,v,n,s){var c=1/(e-a),f=1/(i-v),h=1/(n-s);return r[0]=-2*c,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*f,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*h,r[11]=0,r[12]=(e+a)*c,r[13]=(v+i)*f,r[14]=(s+n)*h,r[15]=1,r}var k1=n1;R.ortho=k1;function J1(r,e,a,i,v,n,s){var c=1/(e-a),f=1/(i-v),h=1/(n-s);return r[0]=-2*c,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*f,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=h,r[11]=0,r[12]=(e+a)*c,r[13]=(v+i)*f,r[14]=n*h,r[15]=1,r}function j1(r,e,a,i){var v,n,s,c,f,h,M,m,y,p,d=e[0],x=e[1],l=e[2],t=i[0],_=i[1],S=i[2],P=a[0],A=a[1],g=a[2];return Math.abs(d-P)<E.EPSILON&&Math.abs(x-A)<E.EPSILON&&Math.abs(l-g)<E.EPSILON?j(r):(M=d-P,m=x-A,y=l-g,p=1/Math.hypot(M,m,y),M*=p,m*=p,y*=p,v=_*y-S*m,n=S*M-t*y,s=t*m-_*M,p=Math.hypot(v,n,s),p?(p=1/p,v*=p,n*=p,s*=p):(v=0,n=0,s=0),c=m*s-y*n,f=y*v-M*s,h=M*n-m*v,p=Math.hypot(c,f,h),p?(p=1/p,c*=p,f*=p,h*=p):(c=0,f=0,h=0),r[0]=v,r[1]=c,r[2]=M,r[3]=0,r[4]=n,r[5]=f,r[6]=m,r[7]=0,r[8]=s,r[9]=h,r[10]=y,r[11]=0,r[12]=-(v*d+n*x+s*l),r[13]=-(c*d+f*x+h*l),r[14]=-(M*d+m*x+y*l),r[15]=1,r)}function o1(r,e,a,i){var v=e[0],n=e[1],s=e[2],c=i[0],f=i[1],h=i[2],M=v-a[0],m=n-a[1],y=s-a[2],p=M*M+m*m+y*y;p>0&&(p=1/Math.sqrt(p),M*=p,m*=p,y*=p);var d=f*y-h*m,x=h*M-c*y,l=c*m-f*M;return p=d*d+x*x+l*l,p>0&&(p=1/Math.sqrt(p),d*=p,x*=p,l*=p),r[0]=d,r[1]=x,r[2]=l,r[3]=0,r[4]=m*l-y*x,r[5]=y*d-M*l,r[6]=M*x-m*d,r[7]=0,r[8]=M,r[9]=m,r[10]=y,r[11]=0,r[12]=v,r[13]=n,r[14]=s,r[15]=1,r}function u1(r){return"mat4("+r[0]+", "+r[1]+", "+r[2]+", "+r[3]+", "+r[4]+", "+r[5]+", "+r[6]+", "+r[7]+", "+r[8]+", "+r[9]+", "+r[10]+", "+r[11]+", "+r[12]+", "+r[13]+", "+r[14]+", "+r[15]+")"}function rr(r){return Math.hypot(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],r[9],r[10],r[11],r[12],r[13],r[14],r[15])}function er(r,e,a){return r[0]=e[0]+a[0],r[1]=e[1]+a[1],r[2]=e[2]+a[2],r[3]=e[3]+a[3],r[4]=e[4]+a[4],r[5]=e[5]+a[5],r[6]=e[6]+a[6],r[7]=e[7]+a[7],r[8]=e[8]+a[8],r[9]=e[9]+a[9],r[10]=e[10]+a[10],r[11]=e[11]+a[11],r[12]=e[12]+a[12],r[13]=e[13]+a[13],r[14]=e[14]+a[14],r[15]=e[15]+a[15],r}function i1(r,e,a){return r[0]=e[0]-a[0],r[1]=e[1]-a[1],r[2]=e[2]-a[2],r[3]=e[3]-a[3],r[4]=e[4]-a[4],r[5]=e[5]-a[5],r[6]=e[6]-a[6],r[7]=e[7]-a[7],r[8]=e[8]-a[8],r[9]=e[9]-a[9],r[10]=e[10]-a[10],r[11]=e[11]-a[11],r[12]=e[12]-a[12],r[13]=e[13]-a[13],r[14]=e[14]-a[14],r[15]=e[15]-a[15],r}function ar(r,e,a){return r[0]=e[0]*a,r[1]=e[1]*a,r[2]=e[2]*a,r[3]=e[3]*a,r[4]=e[4]*a,r[5]=e[5]*a,r[6]=e[6]*a,r[7]=e[7]*a,r[8]=e[8]*a,r[9]=e[9]*a,r[10]=e[10]*a,r[11]=e[11]*a,r[12]=e[12]*a,r[13]=e[13]*a,r[14]=e[14]*a,r[15]=e[15]*a,r}function nr(r,e,a,i){return r[0]=e[0]+a[0]*i,r[1]=e[1]+a[1]*i,r[2]=e[2]+a[2]*i,r[3]=e[3]+a[3]*i,r[4]=e[4]+a[4]*i,r[5]=e[5]+a[5]*i,r[6]=e[6]+a[6]*i,r[7]=e[7]+a[7]*i,r[8]=e[8]+a[8]*i,r[9]=e[9]+a[9]*i,r[10]=e[10]+a[10]*i,r[11]=e[11]+a[11]*i,r[12]=e[12]+a[12]*i,r[13]=e[13]+a[13]*i,r[14]=e[14]+a[14]*i,r[15]=e[15]+a[15]*i,r}function ir(r,e){return r[0]===e[0]&&r[1]===e[1]&&r[2]===e[2]&&r[3]===e[3]&&r[4]===e[4]&&r[5]===e[5]&&r[6]===e[6]&&r[7]===e[7]&&r[8]===e[8]&&r[9]===e[9]&&r[10]===e[10]&&r[11]===e[11]&&r[12]===e[12]&&r[13]===e[13]&&r[14]===e[14]&&r[15]===e[15]}function vr(r,e){var a=r[0],i=r[1],v=r[2],n=r[3],s=r[4],c=r[5],f=r[6],h=r[7],M=r[8],m=r[9],y=r[10],p=r[11],d=r[12],x=r[13],l=r[14],t=r[15],_=e[0],S=e[1],P=e[2],A=e[3],g=e[4],I=e[5],w=e[6],O=e[7],T=e[8],L=e[9],b=e[10],N=e[11],z=e[12],F=e[13],D=e[14],B=e[15];return Math.abs(a-_)<=E.EPSILON*Math.max(1,Math.abs(a),Math.abs(_))&&Math.abs(i-S)<=E.EPSILON*Math.max(1,Math.abs(i),Math.abs(S))&&Math.abs(v-P)<=E.EPSILON*Math.max(1,Math.abs(v),Math.abs(P))&&Math.abs(n-A)<=E.EPSILON*Math.max(1,Math.abs(n),Math.abs(A))&&Math.abs(s-g)<=E.EPSILON*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(c-I)<=E.EPSILON*Math.max(1,Math.abs(c),Math.abs(I))&&Math.abs(f-w)<=E.EPSILON*Math.max(1,Math.abs(f),Math.abs(w))&&Math.abs(h-O)<=E.EPSILON*Math.max(1,Math.abs(h),Math.abs(O))&&Math.abs(M-T)<=E.EPSILON*Math.max(1,Math.abs(M),Math.abs(T))&&Math.abs(m-L)<=E.EPSILON*Math.max(1,Math.abs(m),Math.abs(L))&&Math.abs(y-b)<=E.EPSILON*Math.max(1,Math.abs(y),Math.abs(b))&&Math.abs(p-N)<=E.EPSILON*Math.max(1,Math.abs(p),Math.abs(N))&&Math.abs(d-z)<=E.EPSILON*Math.max(1,Math.abs(d),Math.abs(z))&&Math.abs(x-F)<=E.EPSILON*Math.max(1,Math.abs(x),Math.abs(F))&&Math.abs(l-D)<=E.EPSILON*Math.max(1,Math.abs(l),Math.abs(D))&&Math.abs(t-B)<=E.EPSILON*Math.max(1,Math.abs(t),Math.abs(B))}var sr=o;R.mul=sr;var cr=i1;R.sub=cr;function hr(r){let e,a;return{c(){e=q("body"),a=q("canvas"),this.h()},l(i){e=H(i,"BODY",{class:!0});var v=X(e);a=H(v,"CANVAS",{id:!0,class:!0}),X(a).forEach(C),v.forEach(C),this.h()},h(){V(a,"id","main-canvas"),V(a,"class","svelte-1g6x54r"),V(e,"class","svelte-1g6x54r")},m(i,v){h1(i,e,v),f1(e,a)},p:W,i:W,o:W,d(i){i&&C(e)}}}function fr(r){const e=r.createBuffer();lr(r.canvas),r.viewport(0,0,r.canvas.width,r.canvas.height),r.bindBuffer(r.ARRAY_BUFFER,e);const a=[2,2,-2,2,2,-2,-2,-2];r.bufferData(r.ARRAY_BUFFER,new Float32Array(a),r.STATIC_DRAW);const i=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,i);const v=[1,0,1,1,.6,1,.5,0,.7,.5,0,.7];return r.bufferData(r.ARRAY_BUFFER,new Float32Array(v),r.STATIC_DRAW),{pos:e,color:i}}function lr(r){const e=r.clientWidth,a=r.clientHeight,i=r.width!==e||r.height!==a;return i&&(r.width=e,r.height=a),i}function Mr(r,e,a){const i=`
		precision mediump float;

		attribute vec3 pos;
		attribute vec3 color;
		varying vec4 v_color;

		uniform mat4 modelViewMatrix;
		uniform mat4 projectionMatrix;
		uniform vec2 cursorPos;

		// https://gist.github.com/yiwenl/745bfea7f04c456e0101
		vec3 hsl(vec3 c) {
    	vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);
    	vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);
    	return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);
		}

		void main() {
		  gl_Position = projectionMatrix * modelViewMatrix * vec4(pos.x, pos.y, pos.z, 2.0);
		  v_color = vec4(hsl(vec3(cursorPos.x *  2.0, 0.7, 1.0)), 1.0);
		}
		`,v=`
		precision mediump float;

	  varying vec4 v_color;
    void main() {
			gl_FragColor = v_color;
    }
	`;let n,s,c,f,h=0,M=0;l1(()=>{m(),window.addEventListener("mousemove",x=>{const l=Math.max(0,Math.min(x.clientY-50,600));h=x.clientX/window.innerWidth,M=l/600}),y()});function m(){if(n=document.getElementById("main-canvas").getContext("webgl2",{antialias:!0}),n===null){alert("Unable to initialize WebGL");return}s=p(i,v),c={program:s,attribLocations:{pos:n.getAttribLocation(s,"pos"),color:n.getAttribLocation(s,"color")},uniformLocations:{projectionMatrix:n.getUniformLocation(s,"projectionMatrix"),modelViewMatrix:n.getUniformLocation(s,"modelViewMatrix"),cursorPos:n.getUniformLocation(s,"cursorPos")}},console.log(c),f=fr(n)}function y(){n.clearColor(0,0,0,1),n.clearDepth(1),n.enable(n.DEPTH_TEST),n.depthFunc(n.LEQUAL),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT);const x=45*Math.PI/180,l=n.canvas.clientWidth/n.canvas.clientHeight,t=.1,_=100,S=K();a1(S,x,l,t,_);const P=K();Q(P,P,(h-.5)*Math.PI,[0,1,0]),Q(P,P,(M-.5)*Math.PI/1.5,[1,0,0]),d1(P,P,[-0,0,-6]),n.bindBuffer(n.ARRAY_BUFFER,f.pos),n.vertexAttribPointer(c.attribLocations.pos,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(c.attribLocations.pos),n.useProgram(c.program),n.uniformMatrix4fv(c.uniformLocations.projectionMatrix,!1,S),n.uniformMatrix4fv(c.uniformLocations.modelViewMatrix,!1,P),n.uniform2f(c.uniformLocations.cursorPos,h,M),n.drawArrays(n.TRIANGLE_STRIP,0,4),requestAnimationFrame(y)}function p(x,l){const t=d(n.VERTEX_SHADER,x),_=d(n.FRAGMENT_SHADER,l),S=n.createProgram();return n.attachShader(S,t),n.attachShader(S,_),n.linkProgram(S),n.getProgramParameter(S,n.LINK_STATUS)?S:(alert(`Unable to initialize shader program: 
${n.getProgramInfoLog(S)}`),n.deleteProgram(S),null)}function d(x,l){const t=n.createShader(x);return n.shaderSource(t,l),n.compileShader(t),n.getShaderParameter(t,n.COMPILE_STATUS)?t:(alert(`An error occurred compiling the shaders: 
${n.getShaderInfoLog(t)}`),n.deleteShader(t),null)}return[m]}class pr extends v1{constructor(e){super(),s1(this,e,Mr,hr,c1,{main:0})}get main(){return this.$$.ctx[0]}}export{pr as default};
